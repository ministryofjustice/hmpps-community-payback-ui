{% extends "../partials/layout.njk" %}

{% from "govuk/components/date-input/macro.njk" import govukDateInput %}

{% from "../showErrorSummary.njk" import showErrorSummary %}
{% from "../partials/teamFilter/index.njk" import teamFilter %}

{% set pageTitle = applicationName + " - Find a group session" %}
{% set mainClasses = "app-container govuk-body" %}

{% block content %}

  {{ showErrorSummary(errorSummary) }}

  <h1>Find a group session</h1>

  {% call teamFilter(form, errors, paths.sessions.search(), paths.sessions.index(), "Filter group sessions") %}
    <div class="search-and-filter__row">
      {{ govukDateInput({
        id: "startDate",
        namePrefix: "startDate",
        fieldset: {
          legend: {
            text: "From",
            classes: "govuk-!-font-weight-bold"
          }
        },
        items: form.startDateItems,
        errorMessage: errors['startDate-day']
      }) }}
      {{ govukDateInput({
        id: "endDate",
        namePrefix: "endDate",
        fieldset: {
          legend: {
            text: "To",
            classes: "govuk-!-font-weight-bold"
          }
        },
        items: form.endDateItems,
        errorMessage: errors['endDate-day']
      }) }}
    </div>
  {% endcall %}

  {% if showNoResultsMessage %}
    <h2>No results found</h2>

    <p>There are no results that match your search. Try searching again using different search criteria.</p>
  {% endif %}

  {% if sessionRows | length %}
    {% include "./_table.njk" %}
  {% endif %}

{% endblock %}
